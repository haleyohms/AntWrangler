#####################################################################################################################
### INPUTS ##########################################################################################################
#####################################################################################################################
functionsPath = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example/example"
dbDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
dbDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
dbDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
dbDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
dbDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
dbDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
dbDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
tz=c('PST')
# list of time zones
#https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
tz=PST
# list of time zones
#https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
tz='PST'
getDate = function(dateChunk='thisisafillerdate'){
#dateChunk = "03/03/2018"
test = try(if(nchar(dateChunk)==10){'fail?'}) #, silent=T
if(class(test) == "try-error"){return(NA)}
if(nchar(dateChunk) == 10){ #10
tryTheseFormats = c('%m-%d-%Y',
'%m/%d/%Y',
'%Y-%m-%d',
'%Y/%m/%d')
} else{
tryTheseFormats = c('%m/%d/%y',
'%m-%d-%y',
'%y/%m/%d',
'%y-%m-%d')
}
match=F
i=0
while(!match && i<length(tryTheseFormats)){
i = i+1
date = as.Date(dateChunk, format=tryTheseFormats[i])
match = !is.na(date)
}
return(date)
}
spaceDelim = function(lines){
dataLines = sub("\t", " ", lines) %>%
str_squish() %>%
str_split(' ')
return(dataLines)
}
makeORFIDtagDF = function(tagDataDF, tz){
date = as.Date(tagDataDF[,2])
time = as.character(tagDataDF[,3])
fracsec = round(as.numeric(str_sub(time, 9, 11)), 2)
datetime = strptime(paste(date, time),format='%Y-%m-%d %H:%M:%S', tz=tz)
duration = period_to_seconds(hms(tagDataDF[,4]))
tagtype = as.character(tagDataDF[,5])
tagid = as.character(tagDataDF[,6])
antnum = NA
consdetc = as.numeric(tagDataDF[,7])
arrint = as.character(tagDataDF[,8])
arrint[arrint == '.'] = '65001'
arrint = as.numeric(arrint)
return(data.frame(date, time, fracsec, datetime, duration, tagtype, tagid, antnum, consdetc, arrint, stringsAsFactors = F))
}
functionsPath = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
dbDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
dbDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
dbDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
dbDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
dbDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
dbDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
dbDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
dbDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
#####################################################################################################################
### INPUTS ##########################################################################################################
#####################################################################################################################
functionsPath = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
dbDir = "C:/Users/ohmsh/Documents/gtransfer/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
install.packages("tidyverse")
library("lubridate", lib.loc="~/R/win-library/3.5")
?strptime
functionsPath = "C:/Users/ohmsh/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/ohmsh/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/ohmsh/Documents/GitHub/AntWrangler/example"
# timeZone = "America/Los_Angeles"
timeZone = ""
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
#####################################################################################################################
### INPUTS ##########################################################################################################
#####################################################################################################################
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
# timeZone = "America/Los_Angeles"
timeZone = ""
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
#####################################################################################################################
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
# timeZone = "America/Los_Angeles"
timeZone = ""
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
#####################################################################################################################
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
# timeZone = "America/Los_Angeles"
timeZone = ""
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
#####################################################################################################################
### INPUTS ##########################################################################################################
#####################################################################################################################
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
#####################################################################################################################
### INPUTS ##########################################################################################################
#####################################################################################################################
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
#####################################################################################################################
### INPUTS ##########################################################################################################
#####################################################################################################################
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
#####################################################################################################################
### INPUTS ##########################################################################################################
#####################################################################################################################
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
# timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir)
# PITcompile(dataDir, dbDir, timeZone)
#####################################################################################################################
### INPUTS ##########################################################################################################
#####################################################################################################################
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
# timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir)
# PITcompile(dataDir, dbDir, timeZone)
#####################################################################################################################
### INPUTS ##########################################################################################################
#####################################################################################################################
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
#####################################################################################################################
### INPUTS ##########################################################################################################
#####################################################################################################################
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
### INPUTS ##########################################################################################################
#####################################################################################################################
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
#####################################################################################################################
### INPUTS ##########################################################################################################
#####################################################################################################################
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
#####################################################################################################################
### INPUTS ##########################################################################################################
#####################################################################################################################
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
#####################################################################################################################
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/Carmel Project/Array data"
dbDir = "C:/Users/HaleyOhms/Documents/Carmel Project/Database/AntennaData"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
dbDir = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/example"
timeZone = "America/Los_Angeles"
#####################################################################################################################
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/Carmel Project/Array data"
dbDir = "C:/Users/HaleyOhms/Documents/Carmel Project/Database/AntennaData"
timeZone = "America/Los_Angeles"
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/Carmel Project/Array data"
dbDir = "C:/Users/HaleyOhms/Documents/Carmel Project/Database/AntennaData"
timeZone = "America/Los_Angeles"
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
functionsPath = "C:/Users/HaleyOhms/Documents/GitHub/AntWrangler/pit_tag_data_compile_functions.r"
dataDir = "C:/Users/HaleyOhms/Documents/Carmel Project/Array data"
dbDir = "C:/Users/HaleyOhms/Documents/Carmel Project/Database/AntennaData"
timeZone = "America/Los_Angeles"
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
source(functionsPath)
PITcompile(dataDir, dbDir, timeZone)
